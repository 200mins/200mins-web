<div layout="row" layout-wrap layout-align="space-around start">

    <md-card class="movie-card" ng-repeat="movie in movies">

        <!-- Poster -->
        <img ng-src="{{movie.medium_cover_image}}" class="md-card-image" alt="{{movie.title}}">

        <!-- Actions -->
        <md-card-actions layout="row">

            <section ng-show="selectedMovie.id !== movie.id" flex>
                <md-button class="md-icon-button no-margin" aria-label="Download" ng-click="selectMovie(movie.id, 'download')">
                    <md-icon md-svg-src="img/ic_cloud_download_black_24px.svg"></md-icon>
                </md-button>
                <md-button class="md-icon-button no-margin" aria-label="Info." ng-click="selectMovie(movie.id, 'info')">
                    <md-icon md-svg-src="img/ic_info_black_24px.svg"></md-icon>
                </md-button>
                <md-button class="md-icon-button no-margin" aria-label="Open" ng-click="$root.changeState('movie.details', movie.slug)">
                    <md-icon md-svg-src="img/ic_theaters_black_24px.svg"></md-icon>
                </md-button>
            </section>

            <section ng-show="selectedMovie.id === movie.id" layout="row" flex>

                <section>
                    <md-button class="md-icon-button no-margin" aria-label="Close" ng-click="resetSelectedMovie()">
                        <md-icon md-svg-src="img/ic_close_black_24px.svg"></md-icon>
                    </md-button>
                </section>

                <!-- Reason: Download -->
                <section ng-show="selectedMovie.reason === 'download'" flex layout="row" layout-align="end center">
                    <md-button ng-href="{{torrent.url}}" ng-repeat="torrent in movie.torrents" class="md-primary small-button">
                        <span>{{torrent.quality}}</span>
                    </md-button>
                </section>

                <!-- Reason: Info -->
                <section ng-show="selectedMovie.reason === 'info'" flex layout="row" layout-align="end center">
                    <md-button class="small-button" aria-label="IMDb Rating">
                        <img class="png-icon" src="img/imdb.png">
                        <span>{{movie.rating}}</span>
                    </md-button>
                    <md-button class="small-button" aria-label="Year">
                        <md-icon md-svg-src="img/ic_watch_later_black_24px.svg"></md-icon>
                        <span>{{movie.year}}</span>
                    </md-button>
                </section>

            </section>

        </md-card-actions>

    </md-card>

</div>

<div layout="row" layout-align="space-around" ng-show="!isNascent" class="last-element">

    <md-button aria-label="Load More" class="md-primary md-raised" ng-click="getMovies()">
        <span>Load More</span>
    </md-button>

</div>

<div layout="row" layout-align="space-around" ng-show="isNascent" class="last-element">

    <md-progress-circular md-mode="indeterminate"></md-progress-circular>

</div>